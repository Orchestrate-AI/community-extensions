# CrewAI Research Extension

This extension leverages CrewAI to conduct research on a given topic using a team of AI agents. It utilizes a researcher agent to gather information and a writer agent to synthesize the findings into a comprehensive report.

## Inputs

The extension accepts the following inputs:

1. `topic` (required): 
   - Type: string
   - Description: The research topic to investigate
   - Example: "The impact of artificial intelligence on job markets"

2. `context` (optional):
   - Type: string
   - Description: Additional context or information related to the topic
   - Example: "HTML content of a website with latest market data" or "Recent government reports on AI and employment"

3. `openai_api_key` (optional):
   - Type: string
   - Description: Your OpenAI API key for using GPT models
   - Note: Either this or `anthropic_api_key` must be provided

4. `anthropic_api_key` (optional):
   - Type: string
   - Description: Your Anthropic API key for using Claude models
   - Note: Either this or `openai_api_key` must be provided

5. `researcher_model` (optional):
   - Type: string
   - Description: The language model to use for the researcher agent
   - Default: "gpt-4"
   - Accepted values: Any GPT model (e.g., "gpt-3.5-turbo", "gpt-4") or Claude model (e.g., "claude-2", "claude-instant-1")

6. `writer_model` (optional):
   - Type: string
   - Description: The language model to use for the writer agent
   - Default: "gpt-4"
   - Accepted values: Any GPT model (e.g., "gpt-3.5-turbo", "gpt-4") or Claude model (e.g., "claude-2", "claude-instant-1")

## Outputs

The extension provides the following outputs:

1. `topic`:
   - Type: string
   - Description: The original research topic (echoed from input)

2. `context_provided`:
   - Type: boolean
   - Description: Indicates whether additional context was provided in the input

3. `research_report`:
   - Type: string
   - Description: A comprehensive research report generated by the AI crew, including:
     - An introduction to the topic
     - Main points and key findings
     - A conclusion summarizing the research
     - Integration of any provided context, when relevant

4. `models_used`:
   - Type: object
   - Description: Information about which models were used for each agent
   - Properties:
     - `researcher`: The model used by the researcher agent
     - `writer`: The model used by the writer agent

## Usage Example

Here's an example of how to use the CrewAI Research Extension:

```python
inputs = {
    "topic": "The impact of artificial intelligence on job markets",
    "context": "Recent data from tech industry job boards shows a 30% increase in AI-related positions over the last quarter.",
    "openai_api_key": "your_openai_api_key_here",
    "researcher_model": "gpt-4",
    "writer_model": "gpt-3.5-turbo"
}

result = crewai_research_extension.process_message(json.dumps({"inputs": inputs}))

print(f"Research Topic: {result['topic']}")
print(f"Context Provided: {result['context_provided']}")
print(f"Research Report:\n{result['research_report']}")
print(f"Models Used: Researcher - {result['models_used']['researcher']}, Writer - {result['models_used']['writer']}")
```

## Notes

- The extension uses a sequential process, where the researcher agent gathers information first, and then the writer agent creates the final report based on the research findings.
- The `context` input allows you to provide additional information or data sources that the AI agents should consider during their research and writing process.
- You can mix and match OpenAI and Anthropic models for the researcher and writer agents. Just make sure to provide the appropriate API key for the models you choose.
- The extension is designed to work within a larger workflow system that uses Redis for communication. In a standalone environment, you may need to modify the code to remove Redis dependencies.

## Error Handling

The extension will raise exceptions in the following cases:
- If no research topic is provided
- If neither OpenAI nor Anthropic API key is provided
- If an unsupported model is specified

These errors will be caught and reported back through the Redis channel in a production environment.

## Customization

You can customize the agent roles, goals, and task descriptions by modifying the `main.py` file. This allows you to tailor the research process to your specific needs or to expand the capabilities of the extension.