# PR-CodeReview Extension

This extension leverages AI models to perform automated code reviews on newly opened pull requests. It supports both OpenAI's GPT models and Anthropic's Claude models for generating insightful code reviews.

## Inputs

The extension accepts the following inputs:

1. `pull_request_hook_body` (required):
   - Type: string or dict
   - Description: The JSON body of the GitHub webhook payload when a pull request is opened

2. `openai_api_key` (optional):
   - Type: string
   - Description: Your OpenAI API key for using GPT models
   - Note: Either this or `anthropic_api_key` must be provided

3. `anthropic_api_key` (optional):
   - Type: string
   - Description: Your Anthropic API key for using Claude models
   - Note: Either this or `openai_api_key` must be provided

4. `model` (optional):
   - Type: string
   - Description: The AI model to use for code review
   - Default: "gpt-4"
   - Supported values: "gpt-3.5-turbo", "gpt-4", "claude-2", "claude-instant-1"

5. `github_token` (optional):
   - Type: string
   - Description: GitHub personal access token for accessing private repositories

## Outputs

The extension provides the following outputs:

1. `pull_request_url`:
   - Type: string
   - Description: The URL of the pull request that was processed

2. `review`:
   - Type: string
   - Description: A comprehensive code review generated by the AI model, including:
     - A summary of the changes
     - Key observations and potential issues
     - Suggestions for improvement
   - Note: If the pull request action is not 'opened', this will be an empty string

3. `model_used`:
   - Type: string
   - Description: The AI model used for the code review
   - Note: This will be `null` if no review was performed

## Behavior

- The extension will only perform a code review when the pull request action is 'opened'.
- For any other action (e.g., 'closed', 'synchronized'), the extension will return an empty review and `null` for the `model_used`.

## Usage Example

Here's an example of how to use the PR-CodeReview Extension in your workflow configuration: